{"version":3,"sources":["webpack:///./src/views/points/addPoint.vue","webpack:///./src/views/points/addPoint.vue?a268","webpack:///./src/views/points/addPoint.vue?abcc"],"names":["points_addPoint","transfer_dom","x_header","group_title","flexbox","flexbox_item","x_button","datetime","components_datetime","group","picker","components_alert","previewer","popup","directives","TransferDom","components","XHeader","GroupTitle","Flexbox","FlexboxItem","XButton","DatetimePlugin","Datetime","Group","Picker","Alert","Previewer","Popup","data","value1","startTime","endTime","hourListValue","hot","ListValue","activeContent","listSingle","userName","showPop","picList","list","arr","moduleid","this","$route","params","moduleId","methods","know","showMenu","showDeleteButton","it","clearInterval","Loop","This","setTimeout","splice","$vux","alert","show","title","clearLoop","atBig","item","getList","_this","_axios_0_15_3_axios_default","a","get","id","then","res","catch","err","console","log","getUser","_this2","userid","$store","getters","user","name","openPicker","$refs","open","submit","_this3","toast","text","type","length","starttime","replace","RegExp","starttimeHaoMiao","Date","getTime","endtime","url","method","headers","contentType","departmentid","createUserid","roleid","projectid","projectId","content","picids","join","success","$this","onHide","$router","push","path","msg","hide","getActivity","str1","str2","arguments","undefined","showPlugin","cancelText","confirmText","format","value","onConfirm","val","onShow","toggleFormat","changeStart","changeEnd","clearValue","value6","clearValue8","value8","setToday","now","cmonth","getMonth","day","getDate","value7","getFullYear","chooseImage","_this4","_weixin_js_sdk_1_3_2_weixin_js_sdk_default","count","sizeType","sourceType","localIds","promise_default","resolve","serverIds","toUpload","localId","uploadImage","isShowProgressTips","serverId","shift","promiseList","map","$http","mediaId","all","result","pictureIds","mounted","weixin","init","__vue_styles__","context","__webpack_require__","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","projectName","attrs","slot","on","click","staticStyle","color","gutter","rawName","expression","readonly","domProps","input","$event","target","composing","position","mini","year-row","month-row","day-row","hour-row","minute-row","on-change","model","callback","$$v","cols","rows","maxlength","_l","index","key","float","width","src","touchend","touchstart","nativeOn","_e","__webpack_exports__"],"mappings":"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","file":"static/js/20.fd9ffba5ccc402e502f0.js","sourcesContent":["\nimport axios from 'axios'\nimport Popup from 'vux/src/components/popup/index.vue'\nimport XHeader from 'vux/src/components/x-header/index.vue'\nimport GroupTitle from 'vux/src/components/group-title/index.vue'\nimport Flexbox from 'vux/src/components/flexbox/flexbox.vue'\nimport TransferDom from 'vux/src/directives/transfer-dom/index.js'\nimport Alert from 'vux/src/components/alert/index.vue'\nimport FlexboxItem from 'vux/src/components/flexbox/flexbox-item.vue'\nimport XButton from 'vux/src/components/x-button/index.vue'\nimport DatetimePlugin from 'vux/src/plugins/datetime/index.js'\nimport Datetime from 'vux/src/components/datetime/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport Picker from 'vux/src/components/picker/index.vue'\nimport Previewer from 'vux/src/components/previewer/index.vue'\n\nimport wx from 'weixin-js-sdk';\nimport weixin from '@/services/weixin';\nexport default {\ndirectives: {\nTransferDom\n},\ncomponents: {\nXHeader,\nGroupTitle,\nFlexbox,\nFlexboxItem,\nXButton,\nDatetimePlugin,\nDatetime,\nGroup,\nPicker,\nAlert,\nPreviewer,\nPopup\n},\ndata() {\nreturn {\nvalue1: '',\nstartTime:\"\",\nendTime:'',\nhourListValue:'',\nhot:'',\nListValue:'',\nactiveContent:'',\nlistSingle:{},\nuserName:'',\nshowPop:false,\npicList:{list:[],arr:[]},\nmoduleid:this.$route.params.moduleId\n};\n},\nmethods: {\nknow(){\nthis.showPop = false\n},\nshowMenu(){\nthis.showPop = true;\n},\nshowDeleteButton(it) {\nclearInterval(this.Loop);\nvar This = this;\nthis.Loop=setTimeout(function(){\nThis.picList.list.splice(it,1);\nThis.picList.arr.splice(it,1);\nThis.$vux.alert.show({title:'删除成功'});\n},1000);\n},\nclearLoop() {\nclearInterval(this.Loop);\n},\natBig (item) {\n},\ngetList(){\naxios.get('pscoredetail/queryById',{\nparams: {\nid:this.$route.params.moduleId\n}\n}).then(res =>{\nthis.listSingle=res.data\n}).catch(err =>{\nconsole.log('fail'+err.data)\n\n})\n},\ngetUser() {\naxios.get('ppartymember/queryByUserId', {\nparams: {\nuserid: this.$store.getters.user.userid\n}\n})\n.then(res => {\nthis.userName = res.data.name;\n})\n.catch(err => {\nconsole.log(err);\n});\n},\nopenPicker() {\nthis.$refs.picker.open();\n},\nsubmit(){\nif(!this.startTime){\nreturn this.$vux.toast.show({\ntext: '填写开始时间',\ntype: 'text'\n});\n}\n\nif(!this.endTime){\nreturn this.$vux.toast.show({\ntext: '填写结束时间',\ntype: 'text'\n});\n}\n\nif(!this.activeContent){\nreturn this.$vux.toast.show({\ntext: '填写内容',\ntype: 'text'\n});\n}\n\n\nif(!this.picList.arr.length){\nreturn this.$vux.toast.show({\ntext: '请上传图片',\ntype: 'text'\n});\n}\n\nvar starttime = this.startTime.replace(new RegExp(\"-\",\"gm\"),\"/\");\nvar starttimeHaoMiao = (new Date(starttime)).getTime();\nvar endtime = this.endTime.replace(new RegExp(\"-\",\"gm\"),\"/\");\nvar endtimeHaoMiao = (new Date(endtime)).getTime();\n\nif(starttimeHaoMiao<endtimeHaoMiao){\n\n\naxios({\nurl:'pstudy/save',\nmethod:'post',\nheaders: {'contentType':'application/json'},\nparams:{\ndepartmentid:this.$store.getters.user.departmentid,\ncreateUserid:this.$store.getters.user.userid,\nroleid:this.$store.getters.user.roleid,\nstarttime:new Date(this.startTime.replace(/-/gi,'/')).getTime(),\nendtime:new Date(this.endTime.replace(/-/gi,'/')).getTime(),\nprojectid:this.$route.params.projectId,\nmoduleid:this.$route.params.moduleId,\ncontent:this.activeContent,\npicids:this.picList.arr.join()\n}\n}).then(res => {\n\nif(res.success){\nlet $this = this;\nthis.$vux.alert.show({title:'增加成功',onHide(){\n$this.$router.push({\npath: '/points'\n})\n}});\n}else{\nthis.$vux.alert.show({title:res.msg});\n}\n}).catch(err => {\n\nif(err.success){\nthis.$vux.alert.show({title:'增加失败'});\nsetTimeout(() => {\nthis.$vux.alert.hide();\n}, 1000)\n}\n\n});}else {\nthis.$vux.alert.show({title:'开始日期不能大于结束日期'});\n}\n},\n\ngetActivity(){\n},\nlog (str1, str2 = '') {\nconsole.log(str1, str2)\n},\nshowPlugin () {\nthis.$vux.datetime.show({\ncancelText: '取消',\nconfirmText: '确定',\nformat: 'YYYY-MM-DD HH',\nvalue: '2017-05-20 18',\nonConfirm (val) {\nconsole.log('plugin confirm', val)\n},\nonShow () {\nconsole.log('plugin show')\n},\nonHide () {\nconsole.log('plugin hide')\n}\n})\n},\ntoggleFormat () {\nthis.format = this.format === 'YYYY-MM-DD HH:mm' ? 'YYYY-MM-DD' : 'YYYY-MM-DD HH:mm'\n},\nchangeStart (value) {\nthis.startTime = value;\n},\nchangeEnd (value) {\nthis.endTime = value;\n},\nclearValue (value) {\nthis.value6 = ''\n},\nclearValue8 (value) {\nthis.value8 = ''\n},\nsetToday (value) {\nlet now = new Date();\nlet cmonth = now.getMonth() + 1;\nlet day = now.getDate();\nif (cmonth < 10) cmonth = '0' + cmonth;\nif (day < 10) day = '0' + day;\nthis.value7 = now.getFullYear() + '-' + cmonth + '-' + day;\nconsole.log('set today ok')\n},\n\nchooseImage(it) {\nwx.chooseImage({\ncount: 1, // 默认9\nsizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\nsourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\nsuccess: res => {\nlet localIds = res.localIds || [];\nnew Promise(resolve => {\nlet serverIds = [];\nlet toUpload = localId =>\nwx.uploadImage({\nlocalId: localId, // 需要上传的图片的本地ID，由chooseImage接口获得\nisShowProgressTips: 1, // 默认为1，显示进度提示\nsuccess: res => {\nserverIds.push(res.serverId);\nif (localIds.length) {\ntoUpload(localIds.shift());\n} else {\nresolve(serverIds);\n}\n}\n})\n;\nif (localIds.length) {\ntoUpload(localIds.shift());\n} else {\nresolve(serverIds);\n}\n}).\nthen(serverIds => {\nlet promiseList = [];\nserverIds.map(serverId =>\npromiseList.push(\nthis.$http.get('picture/upload', {\nparams: {\nmediaId: serverId\n}\n})\n)\n)\n;\nPromise.all(promiseList).then(result => {\nlet pictureIds = [];\nresult.map(item => pictureIds.push(item.data)\n)\n;\nit.list.push(\"http://dj.dlbdata.cn/dangjian/picture/showThumbnail?pictureId=\" + pictureIds.join());\nit.arr.push(pictureIds.join());\n})\n;\n})\n;\n}\n})\n;\n}\n},\nmounted() {\nweixin.init(['chooseImage', 'uploadImage']);\nthis.getActivity();\nthis.getList();\nthis.getUser();\n}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/points/addPoint.vue","function injectStyle (context) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4692d50\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/_vux-loader@1.2.8@vux-loader/src/after-less-loader.js!less-loader?{'modifyVars':{'yellow':'#ffe26d','theme-color':'#ff9900','button-tab-border-color':'#ccc','button-tab-active-background-color':'@yellow','button-tab-active-font-color':'#000','button-warn-bg-color':'#a0333b','button-warn-active-color':'#8a393e','switch-checked-bg-color':'@yellow','switch-checked-border-color':'@yellow','number-button-font-color':'#ff9900','number-round-button-enabled-border-color':'#ff9900','swiper-indicator-active-color':'#ff9900','checklist-icon-active-color':'#ff9900','tab-text-active-color':'#ff9900','tab-bar-active-color':'#ff9900','dialog-button-text-primary-color':'#ff9900','form-preview-button-primary-color':'#ff9900','tabbar-text-active-color':'#a0333b','toast-position-top-offset':'56px','toast-position-bottom-offset':'60px','search-cancel-font-color':'#ff9900','radio-checked-icon-color':'#ff9900','calendar-arrow-color':'#c0c0c0'},'sourceMap':true}!../../../node_modules/_vux-loader@1.2.8@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=0!./addPoint.vue\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4692d50\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/_vux-loader@1.2.8@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=styles&index=1!./addPoint.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.8@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.8@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./addPoint.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.8@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=script&index=0!./addPoint.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a4692d50\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.8@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.8@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/selector?type=template&index=0!./addPoint.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a4692d50\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.2@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/points/addPoint.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-body disabled-tabbar\"},[_c('x-header',[_vm._v(_vm._s(_vm.listSingle.projectName)),_c('a',{attrs:{\"slot\":\"right\"},on:{\"click\":_vm.showMenu},slot:\"right\"},[_vm._v(\"评分说明\")])]),_vm._v(\" \"),_c('div',{staticClass:\"group-item\"},[_c('group-title',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('b',[_vm._v(\"党员姓名：\"),_c('span',{staticStyle:{\"color\":\"#999999\"}},[_vm._v(_vm._s(_vm.userName))])])])],1),_vm._v(\" \"),_c('div',{staticClass:\"group-item\"},[_c('group-title',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('b',[_vm._v(\"开始时间\")])]),_vm._v(\" \"),_c('flexbox',{attrs:{\"gutter\":0}},[_c('flexbox-item',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.startTime),expression:\"startTime\"}],attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(_vm.startTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.startTime=$event.target.value}}})]),_vm._v(\" \"),_c('flexbox-item',{staticClass:\"input-addon\",staticStyle:{\"position\":\"relative\"}},[_c('x-button',{attrs:{\"mini\":\"\",\"type\":\"warn\"}},[_c('i',{staticClass:\"iconfont dlb-icon-rili\"})]),_vm._v(\" \"),_c('group',{staticClass:\"date-no-box\"},[_c('datetime',{attrs:{\"format\":\"YYYY-MM-DD HH:mm\",\"year-row\":\"{value}年\",\"month-row\":\"{value}月\",\"day-row\":\"{value}日\",\"hour-row\":\"{value}点\",\"minute-row\":\"{value}分\"},on:{\"on-change\":_vm.changeStart},model:{value:(_vm.hourListValue),callback:function ($$v) {_vm.hourListValue=$$v},expression:\"hourListValue\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"group-item\"},[_c('group-title',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('b',[_vm._v(\"结束时间\")])]),_vm._v(\" \"),_c('flexbox',{attrs:{\"gutter\":0}},[_c('flexbox-item',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.endTime),expression:\"endTime\"}],attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(_vm.endTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.endTime=$event.target.value}}})]),_vm._v(\" \"),_c('flexbox-item',{staticClass:\"input-addon\",staticStyle:{\"position\":\"relative\"}},[_c('x-button',{attrs:{\"mini\":\"\",\"type\":\"warn\"}},[_c('i',{staticClass:\"iconfont dlb-icon-rili\"})]),_vm._v(\" \"),_c('group',{staticClass:\"date-no-box\"},[_c('datetime',{attrs:{\"format\":\"YYYY-MM-DD HH:mm\",\"year-row\":\"{value}年\",\"month-row\":\"{value}月\",\"day-row\":\"{value}日\",\"hour-row\":\"{value}点\",\"minute-row\":\"{value}分\"},on:{\"on-change\":_vm.changeEnd},model:{value:(_vm.ListValue),callback:function ($$v) {_vm.ListValue=$$v},expression:\"ListValue\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"group-item\"},[_c('group-title',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('b',{staticClass:\"colorSet\"},[_vm._v(\"主要内容\")])]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.activeContent),expression:\"activeContent\"}],attrs:{\"cols\":\"30\",\"rows\":\"10\",\"maxlength\":\"300\"},domProps:{\"value\":(_vm.activeContent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.activeContent=$event.target.value}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"group-item\"},[_c('span',{staticClass:\"addPic\"},[_vm._v(\"添加照片\")]),_vm._v(\" \"),_c('div',{staticClass:\"photo-list cl\"},[_c('ul',[_vm._l((_vm.picList.list),function(item,index){return _c('li',[_c('div',{staticClass:\"preview\"},[_c('img',{key:index,staticStyle:{\"float\":\"left\",\"width\":\"100%\"},attrs:{\"width\":\"100\",\"src\":item},on:{\"touchend\":_vm.clearLoop,\"touchstart\":function($event){_vm.showDeleteButton(index)}}})])])}),_vm._v(\" \"),_c('li',[_c('div',{staticClass:\"preview addUpload\",on:{\"click\":function($event){_vm.chooseImage(_vm.picList)}}},[_c('span',{staticClass:\"add-bg\"})])])],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"group-item\"},[_c('group-title',{attrs:{\"slot\":\"title\"},slot:\"title\"}),_vm._v(\" \"),_c('x-button',{attrs:{\"type\":\"warn\"},nativeOn:{\"click\":function($event){_vm.submit()}}},[_vm._v(\"\\n            提交支部书记审核\\n        \")])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"transfer-dom\",rawName:\"v-transfer-dom\"}]},[_c('popup',{attrs:{\"position\":\"left\",\"width\":\"100%\"},model:{value:(_vm.showPop),callback:function ($$v) {_vm.showPop=$$v},expression:\"showPop\"}},[_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"middle-top\"},[_vm._v(\"评分说明\")]),_vm._v(\" \"),_c('div',{staticClass:\"middle-content\"},[(_vm.moduleid === '2')?_c('p',[_vm._v(\"\\n                        党员自学或参加其他党组织组织的学习教育活动，经所属党支部书记确认后，每参加一次加2.5分（共5分）。\\n                    \")]):(_vm.moduleid === '4')?_c('p',[_vm._v(\"\\n                        党员在金领驿站参加政治活动，或“双报到”参加居民区党组织组织的党日活动，经所属党支部书记确认后，每次加2分（共10分）。\\n                    \")]):(_vm.moduleid === '11')?_c('p',[_vm._v(\"\\n                        党员积极参加公益活动，每次加3分(最高不超过20分)。\\n                    \")]):(_vm.moduleid === '8')?_c('p',[_vm._v(\"\\n                        党员积极参加公益活动，每次加3分(最高不超过10分)。\\n                    \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"knowBtn\",on:{\"click\":_vm.know}},[_vm._v(\"我知道了\")])])])],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@14.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-a4692d50\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.8@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.8@vux-loader/src/template-loader.js!./node_modules/_vue-loader@14.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/points/addPoint.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}