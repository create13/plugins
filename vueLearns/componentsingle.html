<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>单向数据流</title>
		<script type="text/javascript" src="js/vue.js" ></script>
		<style>
			
		</style>
	</head>
	<body>
		<div id="itany">
			<input type="text" v-model='name' />
			<h2>父组件name:{{name}}</h2>
			<h2>父组件:{{user.age}}</h2>
			<my-hello :name.sync="name" :user="user"></my-hello>
		</div>
		<template id="hello">
			<div>
				<h3>子组件username:{{username}}</h3>
				<h3>子组件name:{{name}}</h3>
				<h2>子组件:{{user.age}}</h2>
				<button @click="change">修改数据</button>
			</div>
		</template>
		<script>
			var vm = new Vue({
				el:"#itany",
				data:{
					name:'tom',
					user:{
						name:'zs',
						age:24
					}
				},
				methods:{
					
				},
				computed:{
					
				},
				directives:{
					
				},
				components:{
					'my-hello':{
						data(){
							return {
								username:this.name  //方式1：将数据存入另一个变量中再操作
							}
						},
						template:'#hello',
						props:['name','user'],
						methods:{
							change(){
//								this.username = 'alice'
			/*					this.$emit('update:name','alice'); //方式2：使用.sync*/
								this.user.age =18
							}
						}
					}
				}
			});
		</script>
	</body>
</html>
